var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var h=0;h<e.length-1;h++){var f=e[h];if(!(f in d))return;d=d[f]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):
$jscomp.POLYFILL_PREFIX+e),e=$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};
$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||
e}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.polyfill("Reflect",function(a){return a?a:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(a){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(a){if(a)return a;if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;return function(c,d){try{return b(c,d),!0}catch(e){return!1}}}return null},"es6","es5");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var h=a[e];if(b.call(c,h,e,a))return{i:e,v:h}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}},"es6","es3");var selim={};Object.defineProperty(selim,"base",{value:{},writable:!1});Object.defineProperty(selim,"const",{value:{},writable:!1});Object.defineProperty(selim,"utils",{value:{},writable:!1});Object.defineProperty(selim,"callBack",{value:{},writable:!1});
Object.defineProperty(selim,"viewers",{value:{},writable:!1});Object.defineProperty(selim,"validators",{value:{},writable:!1});Object.defineProperty(selim,"editors",{value:{},writable:!1});Object.defineProperty(selim,"$c",{value:function(a){return document.createElement(a)},writable:!1});Object.defineProperty(selim,"$g",{value:function(a){return document.getElementById(a)},writable:!1});Object.defineProperty(selim,"data",{value:{},writable:!0});
selim.data.optionsList=[{text:"Product 2",value:"Product2"},{text:"Product 3",value:"Product3"},{text:"Product 4",value:"Product4"}];selim.utils.getClass=function(a,b){a=a.split(".");var c=a.pop();a.forEach(function(d){b=b[d]});if(b&&b[c])return b[c]};selim.utils.execute=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];e=a.split(".");var h=e.pop();e.forEach(function(f){b=b[f]});if(b&&b[h])return b[h].apply(b,d)};
selim.utils.isNumber=function(a){return"string"===typeof a||""===a||null===a||!0===a||!1===a||isNaN(a)||a.constructor&&"Date"===a.constructor.name?!1:!0};selim.utils.removeChilds=function(a){for(;0<a.childNodes.length;)a.removeChild(a.childNodes[0])};selim.utils.isDate=function(a){return a instanceof Date?!0:!1};Object.defineProperty(selim.utils,"MONTHS",{value:{JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12},writable:!1});
selim.utils.MonthToNumber=function(a){return a?(a=a.trim().substr(0,3).toUpperCase(),MONTHS[a]?MONTHS[a]:null):null};
selim.utils.GetControlKyes=function(a,b){var c=null;c=b.shiftKey?"shift+"+b.code:null;c=null===c&&b.altKey?"alt+"+b.code:c;c=null===c&&b.ctrlKey?"ctrl+"+b.code:c;c=null===c?b.code:c;b=!1;return a.delete_key&&(b=a.delete_key.split("|").find(function(d){return d===c}))?"delete":a.insert_key&&(b=a.insert_key.split("|").find(function(d){return d===c}))?"insert":a.unselect_key&&(b=a.unselect_key.split("|").find(function(d){return d===c}))?"unselect":null};
selim.utils.getDateString=function(a){var b=a.getMonth()+1;b=9>b?"0"+b:b+"";var c=a.getDate();c=9>c?"0"+c:c;return a.getFullYear()+"-"+b+"-"+c};selim.utils.formatDate=function(a,b,c){if(null===a)return null;console.log(b+" "+c);return(new Intl.DateTimeFormat(b,c)).format(a)};selim.utils.compairText=function(a,b,c,d){return Intl.Collator(c,d).compare(a,b)};selim.utils.compairNumber=function(a,b){return null===a?1:null===b?-1:null===a&&null===b?0:a>b?1:a<b?-1:0};
selim.utils.compairBoolean=function(a,b){return a>b?1:a<b?-1:0};selim.utils.ParseISO8601=function(a){var b=new Date(a);return"Invalid Date"==b||b.constructor&&"Date"!==b.constructor.name?(console.error("Invalid Date string: "+a),null):b};selim.utils.ParseUnixDate=function(a){var b=13-(""+a).length;a=0<b?a*Math.pow(10,b):a;str=0>a?10*a:a;b=new Date(str);return"Invalid Date"==b||b.constructor&&"Date"!==b.constructor.name?(console.error("Invalid Date string: "+a),null):b};
selim.utils.getKeyCode=function(a){a=a.code||a.key;return 1===a.length?"Key"+a.toUpperCase():a};selim.utils.ParseDate=function(a,b,c){a=" "===b?a.replace(/\s\s+/g," "):a;c||(c="YYYY-MM-DD");b||(b="-");b=a.split(b);var d=c.split("-");c=b[d.indexOf("DD")];var e=b[d.indexOf("MM")];b=b[d.indexOf("YYYY")];e=isNaN(e)?MonthToNumber(e):e;b=new Date(b,e-1,c);return"Invalid Date"==b?(console.error("Invalid date string "+a),null):b};
var dist$js$selim_data_grid_1_0_0$classdecl$var0=function(a){var b=this;this.dismissed=!1;Object.defineProperty(this,"container",{value:selim.$c("div"),writable:!1});this.container.className="editor";this.classList=this.container.classList;a.v_align&&(this.container.style.alignItems="center"===a.v_align?a.v_align:"flex-"+a.v_align);a.h_align&&(this.container.style.justifyContent="center"===a.h_align?a.h_align:"flex-"+a.h_align);var c=function(e){"Escape"===e.code&&b.escaped()},d=function(e){e.stopPropagation()};
Object.defineProperty(this,"dismiss",{value:function(e){!0!==b.dismissed&&(b.dismissed=!0,b.container.removeEventListener("keydown",c),b.container.removeEventListener("click",d),e(b))},writable:!1});this.container.addEventListener("keydown",c);this.init=function(e,h){}};Object.defineProperty(selim.base,"BaseEditor",{value:dist$js$selim_data_grid_1_0_0$classdecl$var0,writable:!1});
var dist$js$selim_data_grid_1_0_0$classdecl$var1=function(a){var b=this,c=selim.$c("div"),d=null,e=c.style.display;this.classList=c.classList;this.locale=a.locale?a.locale:navigator.language;this.options=a.options?a.options:{};c.className="viewer flex-fill";c.style.width="initial";c.style.wordBreak="break-all";!0===a.nowrap&&(c.style.whiteSpace="nowrap",c.style.width="inherit",c.style.height="inherit",c.style.overflow="hidden");Object.defineProperty(this,"container",{get:function(){return c}});Object.defineProperty(this,
"classList",{get:function(){return c.classList}});Object.defineProperty(this,"style",{get:function(){return c.style}});Object.defineProperty(this,"value",{get:function(){return d},set:function(h){d=h;this.display()}});this.display=function(){c.innerText=d};this.hide=function(h){!0===h?(e=c.style.display,c.style.display="none"):c.style.display=e};this.mount=function(h){h.appendChild(b.container)}};
Object.defineProperty(selim.base,"BaseColumnViewer",{value:dist$js$selim_data_grid_1_0_0$classdecl$var1,writable:!1});
var dist$js$selim_data_grid_1_0_0$classdecl$var2=function(){var a=this;Object.defineProperty(this,"callBack",{value:{},writable:!1});this.callBack["pre-insert"]=function(c){return!0};this.callBack["pre-edit"]=function(c,d){return!0};this.callBack["post-edit"]=function(c,d,e){};this.onMethod=function(c){};var b=function(){};Object.defineProperty(this.callBack,"post-insert",{get:function(){return b},set:function(c){b=c;a.onMethod("post-insert")}});this.callBack["pre-delete"]=function(c){return!0}};
Object.defineProperty(selim.base,"BaseDataTable",{value:dist$js$selim_data_grid_1_0_0$classdecl$var2,writable:!1});selim.EventRegister=function(){var a=[],b=[],c=function(e){a.forEach(function(h){Object.is(e.target,h.target)&&e.type===h.type&&h.execute(e)})},d=function(e){void 0===b.find(function(h){return h===e})&&(document.addEventListener(e,c),b.push(e))};this.add=function(e,h,f){d(h);a.push({target:e,type:h,execute:f})}};
selim.validators.validate=function(a,b){if(!0===b.required&&null===a)return{valid:!1,msg:"Value required"};switch(b.type){case "text":return selim.validators.validateText(a,b);case "number":return selim.validators.ValidateNumber(a,b);case "date":return selim.validators.ValidateDate(a,b);case "selector":return selim.validators.validateBoolean(a,b);case "boolean":return selim.validators.validateBoolean(a,b);default:return{valid:!0,msg:""}}};
selim.validators.IsValidDataType=function(a,b){if(null===a&&!0!==b.required)return!0;switch(b.type){case "selector":return!0===a||!1===a;case "number":return selim.utils.isNumber(a);case "text":return"string"===typeof a;case "date":return a.constructor&&"Date"===a.constructor.name;case "boolean":return!0===a||!1===a}return!1};
selim.validators.validateText=function(a,b){var c={valid:!1,msg:""};if("string"!==typeof a&&null!==a)return c.msg="Value is not string",c;if(void 0!==b.max&&a.length>b.max)return c.msg="Maximum length is "+b.max,c;if(void 0!==b.min&&a.length<b.min)return c.msg="Minimum length is "+b.min,c;if(b.in)if(Array.isArray(b.in)){if(void 0===b.in.find(function(d){return d===a}))return c.msg="Value not in list",c}else throw"Valid list is not array [ column name: "+b.name;c.valid=!0;return c};
selim.validators.validateBoolean=function(a,b){var c={valid:!1,msg:""};if(!0===b.required&&null===a)return c.msg="Value required",c;if(!0!==a&&!1!==a)return c.msg="Value is not boolean",c;c.valid=!0;return c};
selim.validators.ValidateNumber=function(a,b){var c={valid:!1,msg:""};if(!0===b.required&&null===a)return c.msg="Value required",c;if(null===a)return c.valid=!0,c;if(!0!==selim.utils.isNumber(a))return c.msg="Value is not a number ",c;if(void 0!==b.max&&null!==a&&a>b.max)return c.msg="Maximum value is "+b.max,c;if(void 0!==b.min&&null!==a&&a<b.min)return c.msg="Minimum value is "+b.min,c;if(b.in)if(Array.isArray(b.in)){if(void 0===b.in.find(function(d){return d===a}))return c.msg="Value not in list",
c}else throw"Valid list is not array [ column name: "+b.name;c.valid=!0;return c};
selim.validators.ValidateDate=function(a,b){var c={valid:!1,msg:""};if(!0===b.required&&null===a)return c.msg="Value required",c;if(null===a)return c.valid=!0,c;if(!selim.utils.isDate(a))return c.msg=" Invalid date ",c;if(b.max){var d=b.max instanceof Date?b.max:selim.utils.ParseDate(b.max);if(!d instanceof Date)throw"Invalid date value";if(a.getTime()>d.getTime())return c.msg=" Value is greater than maximum value ",c}if(b.min){d=b.max instanceof Date?b.min:selim.utils.ParseDate(b.min);if(!d instanceof
Date)throw"Invalid date value";if(a.getTime()<d.getTime())return c.msg=" Value is less than minimum value ",c}if(b.in)if(Array.isArray(b.in)){if(void 0===b.in.find(function(e){if(e.getTime()===a.getTime())return a}))return c.msg="Value not in list",c}else throw"Valid list is not array [ column name: "+b.name;c.valid=!0;return c};
selim.validators.ValidateGridOptions=function(a){void 0===a&&(a={});void 0===a.read_only&&(a.read_only=!1);a.hasOwnProperty("locale")||(a.locale=navigator.language);a.hasOwnProperty("input_date_separator")||(a.input_date_separator="-");a.hasOwnProperty("input_date_format")||(a.input_date_format="YYYY-DD-MM");a.hasOwnProperty("insert_key")||(a.insert_key="shift+KeyI");a.hasOwnProperty("delete_key")||(a.delete_key="shift+KeyD|Delete");a.hasOwnProperty("unselect_key")||(a.unselect_key="shift+KeyU");
a.dml_out=a.dml_out||"min"};
selim.validators.validateMetaData=function(a,b){var c=["text","number","date","boolean","selector"];a=a.slice();a.forEach(function(e,h){e.name=e.name||"column"+h;e.label=e.label||"Column "+h;if(e.type)if(void 0===c.find(function(r){return r===e.type})){var f=e.type;if(void 0!==selim.const.NumericDataTypes.find(function(r){return r===f.trim().toUpperCase()}))e.user_type=f,e.type="number";else return console.error("Invalid data type:   "+e.type),!1}else e.type=e.type.trim().toLowerCase();else throw"Undefined column type, column name:"+
e.name;e.locale=e.locale||b.locale;try{e.locale=Intl.getCanonicalLocales(e.locale)}catch(r){console.warn("Invalid locale value"),e.locale=navigator.language}e.output_date_locale=e.output_date_locale||b.output_date_locale;e.output_date_options=e.output_date_options||b.output_date_options});var d={name:"row_selector",type:"selector",label:b.selector_label||"",default:!1,sortable:!0,width:"40px",h_align:"center",v_align:"middle",display:!1};!0===b.selector?(d.display=!0,!0===b.selector_start?a.unshift(d):
a.push(d)):a.unshift(d);return a};selim.const.NumericDataTypes="INT INTEGER TINYINT SMALLINT MEDIUMINT BIGINT FLOAT DOUBLE DECIMAL".split(" ");
var dist$js$selim_data_grid_1_0_0$classdecl$var3=function(a,b,c){for(var d=[],e=[],h=1E3,f=0;f<b.length;f++){for(var r=[h,"n"],u=null,m=0,w=0;w<a.length;w++)!0!==a[w].computed&&"row_selector"!==a[w].name?(u=Array.isArray(b[f])?b[f][w-m]:b[f][a[w].name],u=void 0===u?null:u,"date"===a[w].type&&null!==u&&u.constructor&&"Date"!==u.constructor.name&&(u="iso8601"===c.input_date_format?selim.utils.ParseISO8601(u):"integer"===c.input_date_format?selim.utils.ParseUnixDate(u):selim.utils.ParseDate(u,c.input_date_separator,
c.input_date_format))):(m++,u="row_selector"===a[w].name?!1:null),r.push(u);d.push(r);h++}this.insert=function(g){for(var p=[h,"i"],q=0;q<a.length;q++)p.push(g[a[q].name]);d.push(p);h++;return d.length-1};this.max=function(g){g+=2;var p=null;d.forEach(function(q){p="date"===a[g-2].type?null===p||p.getTime()<q[g].getTime()?q[g]:p:null===p||p<q[g]?q[g]:p});return p};this.min=function(g){g+=2;var p=null;d.forEach(function(q){p="date"===a[g-2].type?null===p||p.getTime()<q[g].getTime()?q[g]:p:null===p||
p>q[g]?q[g]:p});return p};this.getDefaultRow=function(){for(var g={},p=0;p<a.length;p++)g[a[p].name]=void 0!==a[p].default?a[p].default:null;return g};this.getData=function(){return d};this.getUpdated=function(){return e};this.delete=function(g){"n"==d[g][1]?d[g][1]="d":"i"==d[g][1]?d[g][1]="x":"u"==d[g][1]&&(d[g][1]="d")};this.commit=function(){for(var g=0;g<d.length;g++){if("u"===d[g][1]||"i"===d[g][1])d[g][1]="n";if("d"===d[g][1]||"x"===d[g][1])d=d.splice(g,1),g=0<g?g-1:0;e=[]}};var y=function(g,
p,q,k){var n=e.find(function(t){return t[0]===g[0]}),l=2,x=0;a.forEach(function(t){"selector"!==t.type&&!1!==t.db&&(("date"===t.type?g[l].getTime()!==n[l].getTime():g[l]!==n[l])||!0===q?(p[t.name]="date"===t.type&&null!==g[l]?(new Intl.DateTimeFormat(t.output_date_locale,t.output_date_options)).format(g[l]):g[l],x=1):!0===t.primary_key&&(p[t.name]="date"===t.type&&null!==g[l]?(new Intl.DateTimeFormat(t.output_date_locale,t.output_date_options)).format(g[l]):g[l]));l++});return x};this.getChangedRows=
function(g,p,q){var k=[];d.forEach(function(n){var l={},x=2;"i"===n[1]?(l[g]="insert",a.forEach(function(t){"selector"!==t.type&&!1!==t.db&&(l[t.name]="date"===t.type&&null!==n[x]?(new Intl.DateTimeFormat(t.output_date_locale,t.output_date_options)).format(n[x]):n[x]);x++}),k.push(l)):"d"===n[1]?(l[g]="delete",a.forEach(function(t){"selector"===t.type||!1===t.db||!0!==t.primary_key&&!0!==p||(l[t.name]="date"===t.type&&null!==n[x]?(new Intl.DateTimeFormat(t.output_date_locale,t.output_date_options)).format(n[x]):
n[x]);x++}),k.push(l)):"u"===n[1]&&(l[g]="update",1===y(n,l,p,q)&&k.push(l))});return k};this.setValue=function(g,p,q,k){"n"===d[p][1]&&!0!==k&&"selector"!==a[g].type&&(d[p][1]="u",e.push(d[p].map(function(n){return n})));d[p][g+2]=q};this.getRowId=function(g){return d[g][0]};this.getValue=function(g,p){return d[p][g+2]};this.sort=function(g,p){var q=[g],k=[],n=null,l=null,x=null;d.sort(function(t,z){l=!0===p?1:-1;if(a[g].hasOwnProperty("extended_sort"))for(var v=0;v<a[g].extended_sort.length;v++)q.push(Math.abs(a[g].extended_sort[v])),
k.push(0>a[g].extended_sort[v]?-1:1);for(v=0;v<q.length;v++){0<k.length&&(l=0<v?k[v-1]:l);x=a[q[v]].type;if("number"===x)n=selim.utils.compairNumber(t[q[v]+2],z[q[v]+2]);else if("text"===x)n=selim.utils.compairText(t[q[v]+2],z[q[v]+2]);else if("date"===x)n=selim.utils.compairNumber(null===t[q[v]+2]?null:t[q[v]+2].valueOf(),null===z[q[v]+2]?null:z[q[v]+2].valueOf());else if("boolean"===x||"selector"===x)n=selim.utils.compairBoolean(null===t[q[v]+2]?null:t[q[v]+2].valueOf(),null===z[q[v]+2]?null:z[q[v]+
2].valueOf());else{console.error("Unknown column type!");break}if(0<n)return l;if(0>n)return-1*l}return 0})}};$jscomp.global.Object.defineProperties(dist$js$selim_data_grid_1_0_0$classdecl$var3.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.getData()}}});selim.DataModel=dist$js$selim_data_grid_1_0_0$classdecl$var3;
selim.viewers.NumberViewer=function(a){var b=selim.base.BaseColumnViewer.call(this,a)||this;b.display=function(){!0===selim.validators.ValidateNumber(b.value,a).valid&&null!==b.value?b.container.innerText=Intl.NumberFormat(b.locale,b.options).format(b.value):b.container.innerText=b.value};return b};$jscomp.inherits(selim.viewers.NumberViewer,selim.base.BaseColumnViewer);
selim.viewers.DateViewer=function(a){var b=selim.base.BaseColumnViewer.call(this,a)||this;b.display=function(){b.container.innerText=null!=b.value?(new Intl.DateTimeFormat(b.locale,b.options)).format(b.value).toString():b.value};return b};$jscomp.inherits(selim.viewers.DateViewer,selim.base.BaseColumnViewer);selim.viewers.DefaultViewer=function(a){var b=selim.base.BaseColumnViewer.call(this,a)||this;b.display=function(){b.container.innerText=b.value};return b};
$jscomp.inherits(selim.viewers.DefaultViewer,selim.base.BaseColumnViewer);selim.viewers.SelectViewer=function(a,b){var c=selim.base.BaseColumnViewer.call(this,a)||this;var d=selim.$c("input");d.type="checkbox";d.className="editor-control";c.container.classList.add("selector");c.container.appendChild(d);d.addEventListener("click",function(e){e.stopPropagation();b[a.name]=d.checked;b.selected=d.checked});c.display=function(){d.checked=c.value};return c};$jscomp.inherits(selim.viewers.SelectViewer,selim.base.BaseColumnViewer);
selim.viewers.BooleanViewer=function(a){var b=selim.base.BaseColumnViewer.call(this,a)||this;var c=selim.$c("div");b.container.appendChild(c);b.container.style.display="flex";b.container.style.justifyContent="center";b.display=function(){!0===b.value?(c.innerHTML="\u2713",c.style.fontWight="bolder",c.style.color="green"):!1===b.value&&(c.innerHTML="\u2717",c.style.color="red")};return b};$jscomp.inherits(selim.viewers.BooleanViewer,selim.base.BaseColumnViewer);
var dist$js$selim_data_grid_1_0_0$classdecl$var4=function(a){var b=selim.base.BaseEditor.call(this,a)||this;var c=selim.$c("input");c.type="text";c.className="editor-control";b.container.appendChild(c);b.init=function(d,e){c.value=d[a.name];c.focus();var h=function(){d[a.name]=c.value;b.dismiss(e)};c.addEventListener("focusout",function(f){b.dismissed||h()});c.addEventListener("keydown",function(f){f.stopPropagation();"Enter"===selim.utils.getKeyCode(f)&&h()});b.escaped=function(){b.dismiss(e)}};
return b};$jscomp.inherits(dist$js$selim_data_grid_1_0_0$classdecl$var4,selim.base.BaseEditor);selim.editors.DefaultEditor=dist$js$selim_data_grid_1_0_0$classdecl$var4;
var dist$js$selim_data_grid_1_0_0$classdecl$var5=function(a){var b=selim.base.BaseEditor.call(this,a)||this;var c=selim.$c("textArea");b.container.appendChild(c);c.style.zIndex="999999";b.init=function(d,e){c.value=d[a.name];c.focus();var h=function(f){d[a.name]=void 0===f?c.value.trim():f;b.dismiss(e)};c.addEventListener("focusout",function(f){!0!==b.dismissed&&h()});c.addEventListener("keydown",function(f){f.stopPropagation();"Delete"===selim.utils.getKeyCode(f)&&h(null)});b.escaped=function(){b.dismiss(e)}};
return b};$jscomp.inherits(dist$js$selim_data_grid_1_0_0$classdecl$var5,selim.base.BaseEditor);selim.editors.TextEditor=dist$js$selim_data_grid_1_0_0$classdecl$var5;
var dist$js$selim_data_grid_1_0_0$classdecl$var6=function(a){var b=selim.base.BaseEditor.call(this,a)||this;var c=selim.$c("input");c.type="text";c.className="editor-control";b.container.appendChild(c);b.init=function(d,e){c.value=d[a.name];c.focus();var h=function(f){d[a.name]=void 0===f?c.value.trim():f;b.dismiss(e)};c.addEventListener("focusout",function(f){!0!==b.dismissed&&h()});c.addEventListener("keydown",function(f){f.stopPropagation();"Enter"===selim.utils.getKeyCode(f)&&h();"Delete"===selim.utils.getKeyCode(f)&&
h(null)});b.escaped=function(){b.dismiss(e)}};return b};$jscomp.inherits(dist$js$selim_data_grid_1_0_0$classdecl$var6,selim.base.BaseEditor);selim.editors.SingleLineEditor=dist$js$selim_data_grid_1_0_0$classdecl$var6;
var dist$js$selim_data_grid_1_0_0$classdecl$var7=function(a){var b=selim.base.BaseEditor.call(this,a)||this;var c=selim.$c("input"),d=selim.$c("div");c.setAttribute("type","checkbox");d.appendChild(c);b.container.appendChild(d);c.style.width="1.2em";c.style.height="1.2em";b.init=function(e,h){c.checked=e[a.name];c.focus();var f=function(){e[a.name]=c.checked;b.dismiss(h)};c.addEventListener("focusout",function(r){b.dismissed||f()});c.addEventListener("keydown",function(r){r.stopPropagation();"Enter"===
selim.utils.getKeyCode(r)&&f()});b.escaped=function(){b.dismiss(h)}};return b};$jscomp.inherits(dist$js$selim_data_grid_1_0_0$classdecl$var7,selim.base.BaseEditor);selim.editors.BooleanEditor=dist$js$selim_data_grid_1_0_0$classdecl$var7;
var dist$js$selim_data_grid_1_0_0$classdecl$var8=function(a){var b=selim.base.BaseEditor.call(this,a)||this;var c=selim.$c("select");b.container.appendChild(c);c.className="editor-control";if(a.dataList)for(var d=null,e=0;e<a.dataList.length;e++)d=Array.isArray(a.dataList[0])?new Option(a.dataList[e][0],a.dataList[e][1]):new Option(a.dataList[e].text,a.dataList[e].value),c.add(d);a.selectedIndex&&(c.selectedIndex=a.selectedIndex);b.init=function(h,f){c.value=h[a.name];c.focus();var r=function(){if(-1<
c.selectedIndex)try{a.mapping?(a.mapping.value&&(h[a.mapping.value]=c.value),a.mapping.text&&(h[a.mapping.text]=c.options[c.selectedIndex].text)):h[a.name]=c.value}catch(u){console.error("Mapping error: ")}b.dismiss(f)};c.addEventListener("focusout",function(u){b.dismissed||r()});c.addEventListener("keydown",function(u){u.stopPropagation();"Enter"===selim.utils.getKeyCode(u)&&r()});b.escaped=function(){b.dismiss(f)}};return b};$jscomp.inherits(dist$js$selim_data_grid_1_0_0$classdecl$var8,selim.base.BaseEditor);
selim.editors.OptionsEditor=dist$js$selim_data_grid_1_0_0$classdecl$var8;
var dist$js$selim_data_grid_1_0_0$classdecl$var9=function(a){var b=selim.base.BaseEditor.call(this,a)||this;var c=selim.$c("input");c.type="number";c.className="editor-control";b.container.appendChild(c);a.step&&c.setAttribute("step",a.step);a.max&&(c.max=a.max);a.min&&(c.min=a.min);b.init=function(d,e){c.value=d[a.name];c.focus();var h=function(f){f=void 0===f?c.value:f;""!==f&&(d[a.name]=null===f?null:Number(f));b.dismiss(e)};c.addEventListener("keydown",function(f){f.stopPropagation();"Enter"===
selim.utils.getKeyCode(f)?h(c.value):"Delete"===selim.utils.getKeyCode(f)&&(c.value=null,h(null))});c.addEventListener("focusout",function(f){b.dismissed||h(c.value)});b.escaped=function(){b.dismiss(e)}};return b};$jscomp.inherits(dist$js$selim_data_grid_1_0_0$classdecl$var9,selim.base.BaseEditor);selim.editors.NumberEditor=dist$js$selim_data_grid_1_0_0$classdecl$var9;
var dist$js$selim_data_grid_1_0_0$classdecl$var10=function(a){var b=selim.base.BaseEditor.call(this,a)||this;var c=selim.$c("input");c.type="date";c.className="editor-control";b.container.appendChild(c);a.max&&c.setAttribute("max",a.max);a.min&&c.setAttribute("min",a.min);b.init=function(d,e){null!==d[a.name]&&d[a.name].constructor&&"Date"===d[a.name].constructor.name&&(c.value=selim.utils.getDateString(d[a.name]));c.focus();var h=function(f){f=void 0===f?selim.utils.ParseDate(c.value,"-","YYYY-MM-DD"):
f;d[a.name]=f;b.dismiss(e)};c.addEventListener("keydown",function(f){f.stopPropagation();!0!==b.dismissed&&("Enter"===selim.utils.getKeyCode(f)&&h(),"Delete"===selim.utils.getKeyCode(f)&&h(null))});c.addEventListener("focusout",function(f){b.dismissed||h()});b.escaped=function(){b.dismiss(e)}};return b};$jscomp.inherits(dist$js$selim_data_grid_1_0_0$classdecl$var10,selim.base.BaseEditor);selim.editors.DateEditor=dist$js$selim_data_grid_1_0_0$classdecl$var10;
selim.ViewerFactory=function(a,b){if(a.viewer){if("string"===typeof a.viewer)return console.error("Unexpected string : "+a.viewer),null;a=new a.viewer(a);if(!(a instanceof selim.base.BaseColumnViewer))throw"Viewer is not instance of  BaseColumnViewer";}else switch(a.type){case "number":a=new selim.viewers.NumberViewer(a,b);break;case "date":a=new selim.viewers.DateViewer(a,b);break;case "selector":a=new selim.viewers.SelectViewer(a,b);break;case "boolean":a=new selim.viewers.BooleanViewer(a,b);break;
default:a=new selim.viewers.DefaultViewer(a,b)}return a};
selim.EditorFactory=function(a){if(a.editor){if("string"===typeof a.editor)throw"Unexpected string : "+a.editor;var b=new a.editor(a);if(!(b instanceof selim.base.BaseEditor))throw"Viewer is not instance of  BaseEditor";}else switch(a.type){case "text":b=!0===a.single_line?new selim.editors.SingleLineEditor(a):new selim.editors.TextEditor(a);break;case "date":b=new selim.editors.DateEditor(a);break;case "number":b=new selim.editors.NumberEditor(a);break;case "boolean":b=new selim.editors.BooleanEditor(a);
break;default:b=new selim.editors.DefaultEditor(a)}null===b&&console.error("No editor found for "+a.name);return b};
var dist$js$selim_data_grid_1_0_0$classdecl$var11=function(a,b,c,d){var e=this,h=null,f=selim.$c("td"),r=a.background||f.style.backgroundColor;f.style.position="relative";f.tabIndex=0;f.style.width=a.width||"auto";"selector"===a.type&&(f.style.width=a.width||"2em",f.style.backgroundColor="lightgray");Object.defineProperty(this,"viewer",{value:selim.ViewerFactory(a,c),writable:!1});this.viewer.setBackground=function(m){r=m};Object.defineProperty(this,"columnName",{get:function(){return a.name}});Object.defineProperty(this,
"value",{get:function(){return h},set:function(m){h=m;this.viewer.value=h}});this.focus=function(){f.focus()};this.appendChild=function(m){f.appendChild(m)};this.removeChild=function(m){f.removeChild(m)};this.getColumnIndex=function(){return b};this.getColumnName=function(){return a.name};this.validate=function(){var m=a.validator||c.dataGrid.options.validator;if(void 0!==m){if("Function"===m.constructor.name)m=new m(e.value,a);else throw"Validator is not a function [column name: "+a.name+"]";if(null===
m)throw"Error validation class";!0===m.valid&&!0!==selim.validators.IsValidDataType(e.value,a)&&(m.valid=!1,m.msg="Invalid data type expected "+a.type)}else m=selim.validators.validate(e.value,a);!0!==m.valid?(f.classList.add("error-cell"),f.title=m.msg):(f.classList.remove("error-cell"),f.style.backgroundColor=r,f.title="");return m};var u=function(m){try{f.removeChild(m.container)}catch(w){}e.viewer.hide(!1);c.dataGrid.state.editing=!1;c.dataGrid.callBack["post-edit"](c.dataGrid.getValue(e.getColumnIndex(),
c.dataRowIndex),a,c);f.focus()};this.showEditor=function(m){!0===c.dataGrid.state.editing||"selector"===a.type?c.dataGrid.state.editing=!1:!0!==c.dataGrid.callBack["pre-edit"](a,c)||!0===a.read_only||!1!==a.read_only&&!0===c.dataGrid.options.read_only||(m=selim.EditorFactory(a),null!==m&&(c.dataGrid.state.editing=!0,e.viewer.hide(!0),e.appendChild(m.container),m.init(c,u)))};d.add(f,"keydown",function(m){"Enter"===m.code?e.showEditor():"selector"!==a.type||"Space"!==m.code&&"Enter"!==m.code||(e.value=
!e.value,c.selected=e.value)});d.add(f,c.dataGrid.options.edit_on||"dblclick",this.showEditor);this.mount=function(m){m.appendChild(f)};a.v_align&&(f.style.verticalAlign=a.v_align);a.h_align&&(f.style.textAlign=a.h_align);this.viewer.mount(f);Object.freeze(this)};selim.GridCell=dist$js$selim_data_grid_1_0_0$classdecl$var11;
var dist$js$selim_data_grid_1_0_0$classdecl$var12=function(a,b,c,d,e,h){var f=this,r=selim.$c("tr"),u=[],m=!1;Object.defineProperty(this,"dataGrid",{get:function(){return c}});Object.defineProperty(this,"columns",{value:a,writable:!1});!0!==c.options.selector&&r.addEventListener("click",function(w){"KeyS"!==c.key?c.unSelectAll():w.stopPropagation();f.selected="KeyS"===c.key&&!0===m?!1:!0});Object.defineProperty(this,"dataRowIndex",{value:d,writable:!1});Object.defineProperty(this,"selected",{get:function(){return m},
set:function(w){m=w;this.hasOwnProperty("row_selector")&&(this.row_selector=m);c.selectRow(r.rowIndex,w)}});Object.defineProperty(this,"classList",{get:function(){return r.classList}});this.mount=function(w){w.appendChild(r)};this.focus=function(w){u[w].focus()};a.forEach(function(w,y){var g=new selim.GridCell(w,y,f,e);u.push(g);g.value=b[y+2];g.validate(b[y+2]);!1!==w.display&&g.mount(r);Object.defineProperty(f,g.getColumnName(),{get:function(){return g.value},set:function(p){g.value=p;!0===g.validate().valid&&
h.setValue(g.getColumnIndex(),d,p,c.state.populate)}})});Object.freeze(this)};selim.GridRow=dist$js$selim_data_grid_1_0_0$classdecl$var12;
var dist$js$selim_data_grid_1_0_0$classdecl$var13=function(a,b,c){c=void 0===c?{}:c;var d=selim.base.BaseDataTable.call(this)||this;selim.validators.ValidateGridOptions(c);var e=selim.validators.validateMetaData(a,c);if(!1===e)return d;var h={editing:!1,populate:!1},f=new selim.DataModel(e,b,c),r=selim.$c("table"),u=selim.$c("div"),m=null,w=null,y=new selim.EventRegister;r.createTHead();r.tHead.insertRow();r.createTBody();u.tabIndex=-1;d.print_model=function(){console.log(f.data)};d.getValue=function(k,
n){return f.getValue(k,n)};d.getChanges=function(k,n,l){if(void 0===k||"string"!==typeof k)k="dml";return f.getChangedRows(k,n,l)};u.className="outline gridContainer";r.className="data-grid";Object.defineProperty(d,"container",{get:function(){return u}});Object.defineProperty(d,"className",{set:function(k){r.className=k},get:function(){return r.className}});Object.defineProperty(d,"classList",{get:function(){return r.classList}});Object.defineProperty(d,"options",{get:function(){return c}});Object.freeze(d.options);
Object.defineProperty(d,"columns",{value:e,writable:!1});Object.freeze(d.columns);Object.defineProperty(d,"key",{get:function(){return w}});Object.defineProperty(d,"state",{get:function(){return h}});window.addEventListener("keydown",function(k){document.activeElement.hasOwnProperty("preventScroll")&&!0===document.activeElement.preventScroll&&k.preventDefault()});u.addEventListener("keyup",function(k){w=null});d.insertRow=function(){var k=f.getDefaultRow();if(!0===d.callBack["pre-insert"](k)){var n=
f.insert(k);p(f.data);k=m.find(function(l){return l.dataRowIndex===n});d.callBack["post-insert"](k);k.focus(!0===d.options.selector&&!0!==d.options.selector_start?0:1)}};d.deleteSelected=function(){d.getSelectedRows().forEach(function(k){!0===d.callBack["pre-delete"](k)?(f.delete(k.dataRowIndex),q(),p(f.data)):console.error("Could not delete row")})};u.addEventListener("keydown",function(k){w=selim.utils.getKeyCode(k);if(!0!==d.state.editing){var n=selim.utils.getKeyCode(k),l=document.activeElement;
if("TD"===l.tagName){var x=l.parentNode,t=x.childNodes.length;l=l.cellIndex;var z=x.parentNode.childNodes.length,v=x.rowIndex-1;switch(n){case "ArrowRight":l+=1;break;case "ArrowLeft":--l;break;case "ArrowDown":v+=1;break;case "ArrowUp":--v;break;case "Home":l=0;break;case "End":l=t-1}v>z-1||0>v||l>t-1||0>l||x.parentNode.childNodes[v].childNodes[l].focus()}if(c.delete_key||c.insert_key||c.unselect_key)switch(selim.utils.GetControlKyes(d.options,k)){case "insert":d.insertRow();break;case "unselect":d.unSelectAll();
break;case "delete":d.deleteSelected()}}});d.commit=function(){f.commit()};var g=function(k){for(var n=0;n<e.length;n++)if(e[n].name===k)return n;return-1};d.max=function(k){k=g(k);if(!(0>k))return f.max(k)};d.min=function(k){k=g(k);if(!(0>k))return f.min(k)};d.onMethod=function(k){"post-insert"===k&&(q(),p(f.data))};var p=function(k){d.state.populate=!0;var n=0;m=[];y=new selim.EventRegister;q();k.forEach(function(l){"d"===l[1]||"x"===l[1]?n++:(l=new selim.GridRow(d.columns,l,d,n,y,f),m.push(l),
n++,l.mount(r.tBodies[0]),l.selected=l.row_selector?l.row_selector:!1,d.callBack["post-insert"](l))});d.state.populate=!1},q=function(){selim.utils.removeChilds(r.tBodies[0])};d.selectRow=function(k,n){!0!==n?m[k-1].classList.remove("selectedRow"):m[k-1].classList.add("selectedRow")};d.unSelectAll=function(){m.forEach(function(k){k.selected=!1})};d.getSelectedRows=function(){var k=[];m.forEach(function(n){!0===n.selected&&k.push(n)});return k};d.mount=function(k){k.appendChild(u)};u.appendChild(r);
selim.utils.removeChilds(r.tHead.rows[0]);q();(function(){var k=function(n){f.sort(n.cellIndex,!n.isAsc());n.setAsc(!n.isAsc());q();p(f.data)};d.columns.forEach(function(n,l){l=new selim.HeaderCell(n,l,k);!1!==n.display&&l.mount(r.tHead.rows[0])})})();p(f.data);return d};$jscomp.inherits(dist$js$selim_data_grid_1_0_0$classdecl$var13,selim.base.BaseDataTable);
$jscomp.global.Object.defineProperties(dist$js$selim_data_grid_1_0_0$classdecl$var13.prototype,{selectedRows:{configurable:!0,enumerable:!0,get:function(){return this.getSelectedRows()}},preventScroll:{configurable:!0,enumerable:!0,get:function(){return!0}}});selim.DataGrid=dist$js$selim_data_grid_1_0_0$classdecl$var13;
var dist$js$selim_data_grid_1_0_0$classdecl$var14=function(a,b,c){var d=this,e=selim.$c("td"),h=selim.$c("div"),f=selim.$c("div"),r=selim.$c("div"),u=!1;Object.defineProperty(this,"cellIndex",{value:b,writable:!1});e.style.width=a.width||"auto";e.style.maxWidth=a.width||"auto";f.className="header-container";r.className="exp";r.innerText=a.label;h.style.cursor="default";f.appendChild(r);!1!==a.sortable&&(h.className="icon",h.innerHTML=" \u2303 ",h.style.display="block",h.onclick=function(m){c(d)},
f.appendChild(h));selim.$c("div");e.appendChild(f);this.mount=function(m){return m.appendChild(e)};this.isAsc=function(){return u};this.setAsc=function(m){u=m;d.setSortIcon()};this.setSortIcon=function(){h.innerHTML=" \u2304 "==h.innerHTML?" \u2303 ":" \u2304 "}};$jscomp.global.Object.defineProperties(dist$js$selim_data_grid_1_0_0$classdecl$var14.prototype,{componentName:{configurable:!0,enumerable:!0,get:function(){return"data-table"}}});selim.HeaderCell=dist$js$selim_data_grid_1_0_0$classdecl$var14;
